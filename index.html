<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nukkepaidan kaava-apuri</title>

<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background: #fafafa;
  }

  h1 {
    text-align: center;
    font-size: 22px;
    margin-bottom: 20px;
  }

  h2 {
    font-size: 18px;
    margin: 0 0 10px 0;
  }

  .box {
    background: #fff;
    max-width: 480px;
    margin: 0 auto 20px auto;
    padding: 16px;
    border-radius: 10px;
    box-shadow: 0 0 8px rgba(0,0,0,0.1);
  }

  label {
    display: block;
    margin-bottom: 6px;
    font-size: 15px;
  }

  input {
    width: 100%;
    font-size: 18px;
    padding: 8px;
    margin-bottom: 12px;
    border-radius: 8px;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }

  .grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 10px;
    margin-top: 10px;
  }

  .garment-btn {
    width: 100%;
    aspect-ratio: 1 / 1; /* neli√∂ */
    border-radius: 10px;
    overflow: hidden;
    border: 2px solid #ddd;
    padding: 0;
    background: #000;
    cursor: pointer;
  }

  .garment-btn img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* t√§ytt√§√§ neli√∂n */
    display: block;
  }

  .garment-caption {
    text-align: center;
    font-size: 14px;
    margin-top: 4px;
    color: #444;
  }

  .result {
    margin-top: 16px;
    font-size: 15px;
    line-height: 1.6;
    white-space: pre-line; /* rivinvaihdot n√§kyy */
  }

  .svg-wrapper {
    margin-top: 16px;
    border: 1px dashed #ccc;
    background: #fdfdfd;
    padding: 8px;
  }

  .svg-wrapper p {
    margin: 0 0 6px 0;
    font-size: 13px;
    color: #555;
  }

  .svg-container {
    width: 100%;
    max-width: 420px; /* likimain A4-leveys ruudulla */
    margin: 0 auto;
  }

  svg {
    width: 100%;
    height: auto;
    background: #fff;
  }
</style>
</head>
<body>

<h1>Nukkepaidan kaava-apuri</h1>

<div class="box">
  <h2>1. Sy√∂t√§ nuken mitat (cm)</h2>

  <label>Rinnanymp√§rys</label>
  <input type="number" id="bust" placeholder="Esim. 14">

  <label>Vy√∂t√§r√∂</label>
  <input type="number" id="waist" placeholder="Esim. 12">

  <label>Hartialeveys</label>
  <input type="number" id="shoulder" placeholder="Esim. 5">

  <label>Sel√§n pituus (kaulasta vy√∂t√§r√∂lle)</label>
  <input type="number" id="backLength" placeholder="Esim. 7">

  <label>K√§den pituus</label>
  <input type="number" id="armLength" placeholder="Esim. 6">
</div>

<div class="box">
  <h2>2. Valitse vaate painamalla kuvaa</h2>

  <div class="grid">
    <!-- PAITA-kuvapainike -->
    <button class="garment-btn" onclick="teePaitaKaava()">
      <!-- VAIHDA T√ÑM√Ñ OMAAN PAIDAN KUVAAN -->
      <img src="https://via.placeholder.com/400x400.png?text=Paita" alt="Paita">
    </button>
    <div class="garment-caption">Pitk√§hihainen paita (klikkaa kuvaa)</div>
  </div>

  <div class="result" id="patternOutput"></div>

  <div class="svg-wrapper" id="svgWrapper" style="display:none;">
    <p>Yksinkertainen kaavakuva. Tulosta selaimen Tulosta-toiminnolla (skaala 100&nbsp;%).</p>
    <div class="svg-container" id="patternSvgContainer"></div>
  </div>
</div>

<script>
function f(n) {
  return n.toFixed(1).replace(".", ",");
}

function teePaitaKaava() {
  const bust = parseFloat(document.getElementById("bust").value);
  const waist = parseFloat(document.getElementById("waist").value);
  const shoulder = parseFloat(document.getElementById("shoulder").value);
  const backLength = parseFloat(document.getElementById("backLength").value);
  const armLength = parseFloat(document.getElementById("armLength").value);

  const out = document.getElementById("patternOutput");
  const svgWrapper = document.getElementById("svgWrapper");
  const svgContainer = document.getElementById("patternSvgContainer");

  if ([bust, waist, shoulder, backLength, armLength].some(x => isNaN(x) || x <= 0)) {
    out.textContent = "Sy√∂t√§ ensin kaikki mitat (rinta, vy√∂t√§r√∂, hartia, selk√§, k√§si).";
    svgWrapper.style.display = "none";
    svgContainer.innerHTML = "";
    return;
  }

  // Hyvin yksinkertainen peruskaava:
  const ease = 0.5; // v√§ljyytt√§ 0.5 cm per sivu
  const frontWidth = bust / 4 + ease;
  const backWidth = bust / 4 + ease;
  const bodyLength = backLength; // paidan pituus
  const shoulderLen = shoulder / 2; // olkasauma
  const sleeveLength = armLength;
  const sleeveWidth = bust / 4 + ease;

  let txt = "";
  txt += "üìè Paitakaavan perusmitat nuken mitoilla:\n\n";

  txt += "ETUKAPPALE:\n";
  txt += "- Leveys: " + f(frontWidth) + " cm\n";
  txt += "- Korkeus (olalta helmaan): " + f(bodyLength) + " cm\n";
  txt += "- Olkasauma: " + f(shoulderLen) + " cm\n";
  txt += "- P√§√§ntien leveys: " + f(bust / 12) + " cm (voi py√∂rist√§√§)\n";
  txt += "- P√§√§ntien syvyys: " + f(bust / 20) + " cm\n\n";

  txt += "TAKAKAPPALE:\n";
  txt += "- Leveys: " + f(backWidth) + " cm\n";
  txt += "- Korkeus: sama kuin etukappale\n";
  txt += "- P√§√§ntien syvyys: " + f(bust / 40) + " cm (matalampi kuin edess√§)\n\n";

  txt += "HIHA:\n";
  txt += "- Pituus: " + f(sleeveLength) + " cm (olkasaumasta ranteeseen)\n";
  txt += "- Leveys yl√§reunassa (kainalosta kainaloon): " + f(sleeveWidth) + " cm\n";
  txt += "- Voit piirt√§√§ hihan suorakulmiona ja py√∂rist√§√§ yl√§reunan hieman kaarevaksi.\n\n";

  txt += "Piirto-ohje lyhyesti:\n";
  txt += "1. Piirr√§ etukappaleeksi suorakulmio (leveys " + f(frontWidth) + " cm, korkeus " + f(bodyLength) + " cm).\n";
  txt += "2. Merkitse yl√§reunaan hartialeveys " + f(shoulderLen) + " cm ja muotoile olkasauma.\n";
  txt += "3. Leikkaa p√§√§ntie: leveys " + f(bust / 12) + " cm, syvyys " + f(bust / 20) + " cm.\n";
  txt += "4. Takakappale sama, mutta p√§√§ntie matalampi.\n";
  txt += "5. Hiha: suorakulmio (pituus " + f(sleeveLength) + " cm, leveys " + f(sleeveWidth) + " cm). Py√∂rist√§ yl√§reunaa hieman.\n";
  txt += "6. Lis√§√§ saumavarat (esim. 0,5‚Äì1,0 cm) reunoille ennen leikkaamista.\n";

  out.textContent = txt;

  // --- Yksinkertainen kaavakuvio SVG:n√§ ---
  // Mittayksikk√∂: cm -> skaalataan "keinotekoisesti" sopivaan kokoon ruudulla.
  const scale = 10; // 1 cm = 10 "yksikk√∂√§" SVG:ss√§

  const frontW = frontWidth * scale;
  const frontH = bodyLength * scale;
  const backW = backWidth * scale;
  const backH = bodyLength * scale;
  const sleeveW = sleeveWidth * scale;
  const sleeveH = sleeveLength * scale;

  const padding = 20;

  const svgWidth = padding*3 + frontW + backW;
  const svgHeight = padding*3 + Math.max(frontH, backH, sleeveH);

  const svgParts = [];

  svgParts.push(
    `<svg xmlns="http://www.w3.org/2000/svg" width="${svgWidth}" height="${svgHeight}" viewBox="0 0 ${svgWidth} ${svgHeight}">`,
    `<rect x="0" y="0" width="${svgWidth}" height="${svgHeight}" fill="white" />`
  );

  // Etukappale
  svgParts.push(
    `<rect x="${padding}" y="${padding}" width="${frontW}" height="${frontH}" fill="none" stroke="black" stroke-width="1" />`,
    `<text x="${padding + frontW/2}" y="${padding - 5}" text-anchor="middle" font-size="12">Etukappale</text>`
  );

  // Takakappale
  svgParts.push(
    `<rect x="${padding*2 + frontW}" y="${padding}" width="${backW}" height="${backH}" fill="none" stroke="black" stroke-width="1" />`,
    `<text x="${padding*2 + frontW + backW/2}" y="${padding - 5}" text-anchor="middle" font-size="12">Takakappale</text>`
  );

  // Hiha
  svgParts.push(
    `<rect x="${padding}" y="${padding*2 + Math.max(frontH, backH)}" width="${sleeveW}" height="${sleeveH}" fill="none" stroke="black" stroke-width="1" />`,
    `<text x="${padding + sleeveW/2}" y="${padding*2 + Math.max(frontH, backH) - 5}" text-anchor="middle" font-size="12">Hiha (suorakulmio)</text>`
  );

  svgParts.push(`</svg>`);

  svgContainer.innerHTML = svgParts.join("");
  svgWrapper.style.display = "block";
}
</script>
</body>
</html>
